(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{142:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return u}));var a=t(2),i=t(9),o=(t(0),t(156)),r={id:"faq",title:"FAQ"},l={id:"guide/faq",isDocsHomePage:!1,title:"FAQ",description:"Why can't I pass in name, value, error etc into my component?",source:"@site/docs/guide/faq.md",permalink:"/formik-material-ui/docs/guide/faq",editUrl:"https://github.com/stackworx/formik-material-ui/edit/master/docs/guide/faq.md",sidebar:"someSidebar",previous:{title:"Migrating",permalink:"/formik-material-ui/docs/guide/migrating"},next:{title:"Material-UI",permalink:"/formik-material-ui/docs/api/material-ui"}},s=[{value:"Why can&#39;t I pass in <code>name</code>, <code>value</code>, <code>error</code> etc into my component?",id:"why-cant-i-pass-in-name-value-error-etc-into-my-component",children:[]},{value:"Why does a wrapper for component x not exist?",id:"why-does-a-wrapper-for-component-x-not-exist",children:[]},{value:"Why does the field auto disable during submission?",id:"why-does-the-field-auto-disable-during-submission",children:[]},{value:"Validation Errors Missing from Select",id:"validation-errors-missing-from-select",children:[{value:"Use a Text field of type Select",id:"use-a-text-field-of-type-select",children:[]},{value:"Manually bind the error",id:"manually-bind-the-error",children:[]}]}],m={rightToc:s};function u(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"why-cant-i-pass-in-name-value-error-etc-into-my-component"},"Why can't I pass in ",Object(o.b)("inlineCode",{parentName:"h2"},"name"),", ",Object(o.b)("inlineCode",{parentName:"h2"},"value"),", ",Object(o.b)("inlineCode",{parentName:"h2"},"error")," etc into my component?"),Object(o.b)("p",null,"This is to prevent there being 2 sources of truth for value"),Object(o.b)("p",null,"For Example"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),'function App() {\n  const [email, setEmail] = useState(\'\');\n  const [error, setError] = useState(null\');\n\n  return (\n    <Field\n      component={TextField}\n      name="email"\n      type="email"\n      label="Email"\n      value={email}\n      error={error}\n      disabled={isSubmitting}\n    />\n  );\n}\n')),Object(o.b)("p",null,"From this code is not at all obvious who is in control of the state. Therefore we purposefully hand over all control (",Object(o.b)("inlineCode",{parentName:"p"},"name, value, onChange, onBlur"),") to formik. This ensures that there is no confusion."),Object(o.b)("p",null,"But you can do this a custom field"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),"import MuiTextField from '@material-ui/core/TextField';\nimport { Field } from 'formik';\nimport { fieldToTextField, TextFieldProps } from 'formik-material-ui';\n\nfunction UpperCasingTextField(props: TextFieldProps) {\n  const {\n    form: { setFieldValue },\n    field: { name },\n  } = props;\n  const onChange = React.useCallback(\n    event => {\n      const { value } = event.target;\n      setFieldValue(name, value ? value.toUpperCase() : '');\n    },\n    [setFieldValue, name]\n  );\n  return <MuiTextField {...fieldToTextField(props)} onChange={onChange} />;\n}\n")),Object(o.b)("h2",{id:"why-does-a-wrapper-for-component-x-not-exist"},"Why does a wrapper for component x not exist?"),Object(o.b)("p",null,"Some components require many decisions to be made which would make then only work for some situations.\nA good example is the slider. Should the onChange event be fired while dragging or only when the thumb is dropped? This will depend on your use-case."),Object(o.b)("h2",{id:"why-does-the-field-auto-disable-during-submission"},"Why does the field auto disable during submission?"),Object(o.b)("p",null,"This is a convenience meant for the standard form. If this was omitted the isSubmitting property would have to be manually passed into every single field"),Object(o.b)("p",null,"For Example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"{8}","{8}":!0}),'<Formik>\n  {({ isSubmitting }) => (\n    <Form>\n      <TextField\n        name="email"\n        type="email"\n        label="Email"\n        disabled={isSubmitting}\n      />\n    </Form>\n  )}\n</Formik>\n')),Object(o.b)("p",null,"A common scenario where this is problematic is where using Formik for search. Here we never want the field to be disabled. This can be accomplished by setting disabled to always be false"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"{8}","{8}":!0}),'<Formik>\n  {({ isSubmitting }) => (\n    <Form>\n      <TextField name="email" type="email" label="Email" disabled={false} />\n    </Form>\n  )}\n</Formik>\n')),Object(o.b)("h2",{id:"validation-errors-missing-from-select"},"Validation Errors Missing from Select"),Object(o.b)("p",null,"The following code will not render any validation errors"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),'<Field component={Select} type="text" name="tags" multiple={true}>\n  <MenuItem value="dogs">Dogs</MenuItem>\n  <MenuItem value="cats">Cats</MenuItem>\n  <MenuItem value="rats">Rats</MenuItem>\n  <MenuItem value="snakes">Snakes</MenuItem>\n</Field>\n')),Object(o.b)("p",null,"This is because the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://material-ui.com/api/select/"}),"Select")," does not actually have a ",Object(o.b)("inlineCode",{parentName:"p"},"error")," prop."),Object(o.b)("p",null,"There are 2 ways to fix this"),Object(o.b)("h3",{id:"use-a-text-field-of-type-select"},"Use a Text field of type Select"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),'<Field\n  component={Text}\n  type="text"\n  name="tags"\n  select={true}\n  SelectProps={{\n    multiple: true,\n  }}\n>\n  <MenuItem value="dogs">Dogs</MenuItem>\n  <MenuItem value="cats">Cats</MenuItem>\n  <MenuItem value="rats">Rats</MenuItem>\n  <MenuItem value="snakes">Snakes</MenuItem>\n</Field>\n')),Object(o.b)("h3",{id:"manually-bind-the-error"},"Manually bind the error"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),'import { ErrorMessage } from \'formik\';\n\n<Field component={Select} type="text" name="tags" multiple={true}>\n  <MenuItem value="dogs">Dogs</MenuItem>\n  <MenuItem value="cats">Cats</MenuItem>\n  <MenuItem value="rats">Rats</MenuItem>\n  <MenuItem value="snakes">Snakes</MenuItem>\n</Field>\n<ErrorMessage name="tags" />\n')))}u.isMDXComponent=!0}}]);